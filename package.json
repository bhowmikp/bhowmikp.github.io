{
    "name": "personal-website",
    "version": "1.0.0",
    "description": "Host Next.js SSR app on Firebase Cloud Functions with Firebase Hosting redirects.",
    "repository": "https://github.com/bhowmikp/bhowmikp.github.io",
    "scripts": {
        "install": "npm run build-all",
        "next": "npm run build-firebase && cd \"src/app\" && npm install",
        "preserve": "npm run build-all",
        "serve": "firebase serve",
        "predeploy": "npm run build-all",
        "deploy": "firebase deploy",
        "build-all": "npm run clean && npm run build-next && npm run build-firebase && mkdir src/functions/app && cp -R src/app/next src/functions/app && npm run pwa",
        "build-next": "cd \"src/app\" && npm install && npm run build",
        "build-firebase": "cd \"src/functions\" && npm install",
        "clean": "rm -rf src/functions/app",
        "pwa": "cp src/app/next/sw.js src/public/ && cp src/app/next/workbox-*.js src/public"
    }
}